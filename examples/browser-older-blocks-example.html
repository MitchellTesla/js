<!DOCTYPE html>
<html>
	<head>
		<title>Example for browser envionments</title>
	</head>

	<body>
		<p>If you open the console "command-J" you should see the resutls printed</p>

		<script src="../build/index.js"></script>
		<script>
			(async () => {
				const { synthetix } = window;
				// this instance exposes props for the given network: synths, sources, targets, users, as well as helper function toBytes32 - as per synthetix: https://github.com/Synthetixio/synthetix/blob/develop/index.js#L199.
				const snxjs = synthetix({ network: 'mainnet' });

				const { formatEther } = snxjs.utils;

				const olderContracts = snxjs.contractsAtBlock(10290987);
				console.log('olderContracts.ExchangeRates', olderContracts.ExchangeRates);
				console.log(
					'olderContracts.ExchangeRates.rateForCurrency',
					olderContracts.ExchangeRates.rateForCurrency
				);
				const olderUnformattedSnxPrice = await olderContracts.ExchangeRates.rateForCurrency(
					snxjs.toBytes32('SNX')
				);
				const olderSnxPrice = formatEther(olderUnformattedSnxPrice);
				console.log('olderSnxPrice', olderSnxPrice);
			})().catch((e) => {
				console.log('error in browser example:', e);
			});
		</script>
	</body>
</html>
